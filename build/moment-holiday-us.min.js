//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
(function(){var e,t="undefined"==typeof require||null===require||require.amd?this.moment:require("moment"),r=[],a=function(a,n,i){for(var o,s=[],d=0;d<r.length;d++){var h=r[d](a,n);(h||!1===h)&&(o=h)}if(!1===o)return!1;if("string"==typeof o?n=o:o&&(s=o),!t.isMoment(s)&&!s.length&&n.charAt(0).match(/[0-9(]/)){var l=!1,f=n.split("|");f.length>1&&(l=!0),f.length>2&&(f=[f[0],f[1]]);for(d=0;d<f.length;d++){var u=t(a),c=f[d].split("/");if(1===c.length||2===c.length&&"("!==c[1].charAt(0)&&4===c[1].length){e=f[d],d=-1,f=[];for(var v=1;v<13;v++)f.push(v+"/"+e)}else if(c.length>2&&u.year(parseInt(c[2])),u.month(parseInt(c[0])-1),"("===c[1].charAt(0)){var g=c[1].slice(1,-1).split(","),p=parseInt(g[0]),k=parseInt(g[1]),w=t(u).startOf("month"),m=t(u).endOf("month").diff(w,"days")+1,b=[];if(g[1]&&"["===g[1].charAt(0)){var _=!0;(k=parseInt(g[1].slice(1,-1)))<0&&(_=!1,k=parseInt(g[1].slice(2,-1))),w=t(u).date(k);for(var O=0;O<7;O++){if(w.day()===p){s.push(t(w));break}_?w.add(1,"day"):w.subtract(1,"day")}continue}for(var M=0;M<m;M++)w.day()===p&&b.push(t(w)),w.add(1,"day");if(!k){s=s.concat(b);continue}u=k<0?b[b.length+k]:b[k-1],s.push(u)}else s.push(u.date(c[1]))}if(l&&s.length>1){var x=s[1].diff(s[0],"days");if(x>1){var j=t(s[0]);s=[s[0]];for(d=0;d<x;d++)j.add(1,"day"),s.push(t(j))}}}s=y(s);for(d=0;d<s.length;d++)t.isMoment(s[d])?(i&&(0===s[d].day()&&(s[d]=s[d].add(1,"day")),6===s[d].day()&&(s[d]=s[d].subtract(1,"day"))),s[d]=s[d].startOf("day")):delete s[d];return!!s.length&&(1===s.length?s[0]:s)},n=function(e,t){var r=[];t=y(t);for(var a=0;a<t.length;a++){var n=e.match(new RegExp(t[a],"gi"));n&&(r=r.concat(n))}return r},i=function(e,r,i,o,s){var d={},l=[],y={};if(h=s||t.holidays.active,h.hasOwnProperty(r))l.push(r);else if(fk=f(r,h))l.push(fk);else{for(var u in h)if(h.hasOwnProperty(u)){if(d[u]=n(r,u.split(/[\s,.-]+/).filter(function(e){return e.length>2})).length,h[u].keywords_n)if(n(r,h[u].keywords_n).length){d[u]=0;continue}if(h[u].keywords_y){var c=n(r,h[u].keywords_y);if(!c||c.length!==h[u].keywords_y.length){d[u]=0;continue}d[u]+=c.length}if(h[u].keywords){var v=n(r,h[u].keywords);if(!v)continue;d[u]+=v.length}}for(var g in d)d[g]&&d.hasOwnProperty(g)&&(l.length&&d[g]!==d[l[0]]?d[g]>d[l[0]]&&(l=[g]):l.push(g))}if(!l.length)return!1;if(!1===o)return l;for(var p=0;p<l.length;p++){var k=a(e,h[l[p]].date,i);k&&(y[l[p]]=k)}return!!Object.keys(y).length&&y},o=function(e,r,a,n,o){var s=[];n&&(s={}),r=y(r),o||(o=t.holidays.active);for(var d=0;d<r.length;d++){var h=i(e,r[d],a,n,o);h&&(s=n?u(s,h):s.concat(h))}return s},s=function(r,n){var i=t.holidays.active,o={};for(var s in i)i.hasOwnProperty(s)&&(e=a(r,i[s].date,n))&&(o[s]=e);return o},d=function(e){if(regions=e.split("/"),e=regions[0].toLowerCase().replace(" ","_"),regions.shift(),!t.holidays[e])try{var r="./locale/";"build"==__dirname.split("/").slice(-1).pop()&&(r="."+r),require(r+e)}catch(e){}return!!t.holidays[e]&&(regions.length?function(e,r){var a=t.holidays[e],n={};if(a)for(var i=0;i<r.length;i++){var o=r[i].toLowerCase(),s=t.holidays[e+"/"+o];for(var d in s={},a)if(a.hasOwnProperty(d)){var h=a[d].regions||[],l=a[d].regions_n||[];h.length&&h.join().toLowerCase().split(),l.length&&l.join().toLowerCase().split(),(!h.length&&!l.length||h.length&&~h.indexOf(o)||l.length&&!~l.indexOf(o))&&(s[d]=a[d])}s&&(n=u(n,s))}return!!Object.keys(n).length&&n}(e,regions):t.holidays[e])},l=function(e,r,a,n){r||(r=1);for(var i=s(e,n),o=t(e),d=e.year(),h=[],l=0;l<r;l++)for(var f=t(o);;){var u=!1;if(a?f.add(1,"day"):f.subtract(1,"day"),f.year()!==d&&(i=s(f,n),d=f.year()),!Object.keys(i).length){u=!0;break}for(var c in i)if(i.hasOwnProperty(c)){for(var v=!1,g=y(i[c]),p=0;p<g.length;p++)if(f.isSame(g[p],"day")){h.push(g[p]),o=t(f),v=!0;break}if(v){u=!0;break}}if(u)break}return!!h.length&&(1===h.length?h[0]:h)},y=function(e){return e&&e.constructor!==Array?[e]:e},f=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var r=0;r<t.length;r++)if(e.toLowerCase()===t[r].toLowerCase())return t[r];return!1},u=function(e,t){return Object.assign({},e,t)};t.fn.holiday=function(r,a){t.holidays.active;var n={},o=!1;if(r){r.constructor!==Array&&(o=!0,r=[r]);for(var d=0;d<r.length;d++)(e=i(this,r[d],a))&&(n=Object.assign({},n,e))}else n=s(this,a);var h=Object.keys(n);return!!h.length&&(1===h.length&&o?n[h[0]]:n)},t.fn.holidays=function(e,t){return this.holiday(e,t)},t.fn.isHoliday=function(e,t){var r,a,n=[];if(e?(e=y(e),r=this.holiday(e,t),a=!1):(r=s(this,t),a=!0),!r)return!1;for(var i in r)if(r.hasOwnProperty(i))for(var o=y(r[i]),d=0;d<o.length;d++)if(this.isSame(o[d],"day")){if(!a)return!0;n.push(i)}return!!n.length&&(1===n.length?n[0]:n)},t.fn.previousHoliday=function(e,t){return l(this,e,!1,t)},t.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},t.fn.nextHoliday=function(e,t){return l(this,e,!0,t)},t.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},t.fn.holidaysBetween=function(e,r){e||(e=new Date),e=t(e).subtract(1,"day");for(var a=s(this,r),n=t(this),i=n.year(),o=[],d=0;d<e.diff(this,"days")&&(n.add(1,"day"),n.year()!==i&&(a=s(n,r),i=n.year()),Object.keys(a).length);d++)for(var h in a){for(var l=!1,f=y(a[h]),u=0;u<f.length;u++)if(n.isSame(f[u],"day")){o.push(f[u]),l=!0;break}if(l)break}return!!o.length&&o},t.holidays={active:{},active_last:{}},t.modifyHolidays={set:function(e,r){var a={};if(e.constructor===Array){for(var n=[],s=0;s<e.length;s++){var h=i(this,e[s],null,!1);h&&(n=n.concat(h))}if(n.length)for(var l in a=u(t.holidays.active))a.hasOwnProperty(l)&&(~n.indexOf(l)||delete a[l])}else if("string"==typeof e){var y=d(e);if(y)if(r){var f=o(this,r,!1,!1,y);for(s=0;s<f.length;s++)a[f[s]]=u(y[f[s]])}else a=u(y)}else a=e;return!Object.keys(a).length&&e!==a||Object.is(t.holidays.active,a)||(t.holidays.active_last=u(t.holidays.active),t.holidays.active=a),this},add:function(e,r){if("string"==typeof e){var a=d(e);if(e={},a)if(r)for(var n=o(this,r,!1,!1,a),i=0;i<n.length;i++)e[n[i]]=u(a[n[i]]);else e=a}return Object.keys(e).length&&(t.holidays.active_last=u(t.holidays.active),t.holidays.active=u(t.holidays.active,e)),this},remove:function(e){e=y(e);var r=o(this,e,!1,!1),a=u(t.holidays.active);if(r)for(var n=0;n<r.length;n++)delete a[r[n]];return Object.is(t.holidays.active,a)||(t.holidays.active_last=u(t.holidays.active),t.holidays.active=a),this},undo:function(){var e=u(t.holidays.active);return t.holidays.active=u(t.holidays.active_last),t.holidays.active_last=e,this},load:function(e){e=y(e);for(var t=0;t<e.length;t++)d(e[t]);return this},extendParser:function(e){return r.push(e),this}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=t)}).call(this),
//! moment-holiday.js locale configuration
//! locale : United States
//! author : Kodie Grantham : https://github.com/kodie
function(){var e="undefined"==typeof require||null===require||require.amd?this.moment:require("moment");e.holidays.united_states={"New Year's Day":{date:"1/1",keywords_n:["eve"]},"Martin Luther King Jr. Day":{date:"1/(1,3)",keywords:["mlk"]},"Valentine's Day":{date:"2/14"},"Washington's Birthday":{date:"2/(1,3)",keywords:["george","president","day"]},"Saint Patrick's Day":{date:"3/17",keywords:["st[\\s\\.]","paddy","patty"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Memorial Day":{date:"5/(1,-1)"},"Mother's Day":{date:"5/(0,2)",keywords:["mom"]},"Father's Day":{date:"6/(0,3)",keywords:["dad"]},"Independence Day":{date:"7/4",keywords:["4th","fourth","july"]},"Labor Day":{date:"9/(1,1)",keywords:["labour"]},"Columbus Day":{date:"10/(1,2)",keywords:["christopher"]},Halloween:{date:"10/31"},"Veteran's Day":{date:"11/11",keywords:["vet"]},"Thanksgiving Day":{date:"11/(4,4)",keywords:["thanks","turkey"],keywords_n:["after"]},"Day after Thanksgiving":{date:"11/(5,4)",keywords:["thanks","turkey"],keywords_y:["after"]},"Christmas Eve":{date:"12/24",keywords:["christ","x-?mas"],keywords_y:["eve"]},"Christmas Day":{date:"12/25",keywords:["christ","x-?mas"],keywords_n:["eve"]},"New Year's Eve":{date:"12/31",keywords_y:["year","eve"]}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}.call(this),
//! moment-holiday.js locale configuration
//! locale : Easter Related Holidays
//! author : Kodie Grantham : https://github.com/kodie
function(){var e="undefined"==typeof require||null===require||require.amd?this.moment:require("moment");e.holidays.easter={"Ash Wednesday":{date:"easter-46"},Lent:{date:"easter-46|easter-3"},"Maundy Thursday":{date:"easter-3",keywords_y:["maundy","thursday"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Holy Saturday":{date:"easter-1",keywords_y:["holy","saturday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Easter Monday":{date:"easter+1",keywords_y:["easter","monday"]},"Ascension Day":{date:"easter+39"},"Pentecost Sunday":{date:"easter+49",keywords_y:["pentecost"],keywords:["sunday"]},"Whit Monday":{date:"easter+50",keywords_y:["whit"],keywords:["monday"]},"Corpus Christi":{date:"easter+60",keywords:["feast"]}};var t=function(t){var r=Math.floor(t/100),a=t-19*Math.floor(t/19),n=Math.floor((r-17)/25),i=r-Math.floor(r/4)-Math.floor((r-n)/3)+19*a+15;i-=30*Math.floor(i/30),i-=Math.floor(i/28)*(1-Math.floor(i/28)*Math.floor(29/(i+1))*Math.floor((21-a)/11));var o=t+Math.floor(t/4)+i+2-r+Math.floor(r/4),s=i-(o-=7*Math.floor(o/7)),d=3+Math.floor((s+40)/44),h=s+28-31*Math.floor(d/4);return e([t,d-1,h])};e.modifyHolidays.extendParser(function(e,r){if(~r.indexOf("easter")){var a=r.split("|"),n=[];for(i=0;i<a.length;i++)if("easter"===a[i].substring(0,6)){var o=t(e.year());if("-"===a[i].charAt(6)&&o.subtract(a[i].substring(7),"days"),"+"===a[i].charAt(6)&&o.add(a[i].substring(7),"days"),1===a.length)return o;n.push(o.format("M/D"))}else n.push(a[i]);if(n.length)return n.join("|")}}),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}.call(this),
//! Set default locales
function(){("undefined"==typeof require||null===require||require.amd?this.moment:require("moment")).modifyHolidays.add("United States")}.call(this);
//# sourceMappingURL=moment-holiday-us.min.js.map
